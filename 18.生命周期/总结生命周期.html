<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Title</title>
	<script src="../vue.js"></script>
</head>
<body>
<div id="root">
	<h2 :style="{opacity}">111</h2>
	<button @click="stop">点击停止</button>
</div>

<script>
	const vm = new Vue({
		el: "#root",
		data: {
			opacity: 1
		},
		methods: {
			stop() {
				// clearInterval(this.timer)
				this.$destroy()
			}
		},
		//Vue解析完模板后，把真实DOM放入到页面(挂载完毕)后调用
		mounted() {
			this.timer = setInterval(() => {
				this.opacity -= 0.01
				if (this.opacity <= 0) {
					this.opacity = 1
				}
			}, 16)
		},
		beforeDestroy() {
			clearInterval(this.timer)
		}
		
	})
</script>
</body>
</html>
